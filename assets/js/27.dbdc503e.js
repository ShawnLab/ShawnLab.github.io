(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{408:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"动态界面-ui-automator-viewer-device-screenshot-失败"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#动态界面-ui-automator-viewer-device-screenshot-失败"}},[t._v("#")]),t._v(" 动态界面 UI Automator Viewer Device Screenshot 失败")]),t._v(" "),a("p",[t._v("在 App 动态界面，使用 UI Automator Viewer Device Screenshot 的时候总是报错，可以使用 Get Source 关键字把 UI XML 源码获取到以便于调试，有时候一次是抓取不到的，所以多试几次。")]),t._v(" "),a("div",{staticClass:"language-robot extra-class"},[a("pre",{pre:!0,attrs:{class:"language-robot"}},[a("code",[a("span",{pre:!0,attrs:{class:"token settings section"}},[a("span",{pre:!0,attrs:{class:"token section-header keyword"}},[t._v("*** Settings ***")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("Library")]),t._v("           AppiumLibrary\n")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keywords section"}},[a("span",{pre:!0,attrs:{class:"token section-header keyword"}},[t._v("*** Keywords ***")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword-name function"}},[t._v("获取界面元素")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("    "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v(":FOR")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("    IN RANGE    "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("\\")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("xml"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("    Get Source\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("\\")]),t._v("    Log Many    "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("xml"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n")])])])]),a("h2",{attrs:{id:"动态界面操作-element-缓慢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#动态界面操作-element-缓慢"}},[t._v("#")]),t._v(" 动态界面操作 Element 缓慢")]),t._v(" "),a("p",[t._v("动态界面通过 Get Source 拿到 Element 的属性之后，使用 Click Element 会很慢，一个步骤长达 30 秒，这完全不可忍受，所以还得改进。使用坐标点击更快，但坐标不能写死，写死坐标的话前面的 Get Source 失去了意义，而且在分辨率不同的机器上会出现兼容性问题。")]),t._v(" "),a("ol",[a("li",[t._v("通过 Get Source 获得 UI XML")]),t._v(" "),a("li",[t._v("通过 XML.Get Element Attribute 获得 bounds 属性")]),t._v(" "),a("li",[t._v("通过正则提取 bounds 的数值计算相对坐标")]),t._v(" "),a("li",[t._v("通过 Click A Point 点击相对坐标")])]),t._v(" "),a("div",{staticClass:"language-robot extra-class"},[a("pre",{pre:!0,attrs:{class:"language-robot"}},[a("code",[a("span",{pre:!0,attrs:{class:"token settings section"}},[a("span",{pre:!0,attrs:{class:"token section-header keyword"}},[t._v("*** Settings ***")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("Library")]),t._v("           XML\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("Library")]),t._v("           AppiumLibrary\n")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keywords section"}},[a("span",{pre:!0,attrs:{class:"token section-header keyword"}},[t._v("*** Keywords ***")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword-name function"}},[t._v("金手指")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("    "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("xpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Documentation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("    "),a("span",{pre:!0,attrs:{class:"token documentation string"}},[t._v("快速定位动态界面元素座标，并点击")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("xml"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),t._v("    Get Source\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("bounds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),t._v("   XML.Get Element Attribute    "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("xml"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("    bounds    "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("xpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("@{")]),t._v("bounds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),t._v("    Evaluate    re.findall('\\\\d+','"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("bounds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("')    re\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),t._v("    Evaluate    ("),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("@{")]),t._v("bounds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("[0]+"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("@{")]),t._v("bounds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("[2])/2\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),t._v("    Evaluate    ("),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("@{")]),t._v("bounds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("[1]+"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("@{")]),t._v("bounds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("[3])/2\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("Click A Point")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("    "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("    duration=1000\n")])])])]),a("h2",{attrs:{id:"framelayout-布局使用-click-a-point-出错"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#framelayout-布局使用-click-a-point-出错"}},[t._v("#")]),t._v(" FrameLayout 布局使用 Click A Point 出错")]),t._v(" "),a("p",[t._v("FrameLayout 布局的弹窗使用 Click A Point 点击空白区域会出错，可以使用 adb shell input x y 的方式点击物理坐标。")]),t._v(" "),a("div",{staticClass:"language-robot extra-class"},[a("pre",{pre:!0,attrs:{class:"language-robot"}},[a("code",[a("span",{pre:!0,attrs:{class:"token settings section"}},[a("span",{pre:!0,attrs:{class:"token section-header keyword"}},[t._v("*** Settings ***")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("Library")]),t._v("           Process\n")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keywords section"}},[a("span",{pre:!0,attrs:{class:"token section-header keyword"}},[t._v("*** Keywords ***")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword-name function"}},[t._v("点击物理座标")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("    "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("    "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("Run Process")]),t._v("    adb    shell    input    tap    "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("    "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("${")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n")])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);